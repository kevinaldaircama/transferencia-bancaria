<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Generador de VPS</title>
  <style>
    body { font-family: sans-serif; background: #f1f1f1; padding: 2rem; }
    label, select, input { display: block; margin-top: 10px; }
    input, select { padding: 8px; width: 300px; }
    button { margin-top: 15px; padding: 10px 20px; background: #2196F3; color: white; border: none; cursor: pointer; }
    #modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); justify-content: center; align-items: center; }
    #modalContent { background: white; padding: 20px; max-width: 600px; border-radius: 10px; white-space: pre-wrap; }
  </style>
</head>
<body>

  <h2>Generador de VPS</h2>
  <label>Localizaci√≥n:</label>
  <select id="location">
    <option value="us">Estados Unidos</option>
    <option value="pe">Per√∫</option>
    <option value="random">Aleatorio</option>
  </select>

  <label>Usuario:</label>
  <input type="text" id="username">

  <label>Contrase√±a:</label>
  <input type="text" id="password">

  <label>D√≠as de duraci√≥n (m√°x 30):</label>
  <input type="number" id="days" max="30">

  <label>L√≠mite de conexi√≥n (m√°x 500):</label>
  <input type="number" id="limit" max="500">

  <button onclick="generarVPS()">Generar VPS</button>

  <div id="modal">
    <div id="modalContent"></div>
  </div>

  <!-- Firebase App (modular) -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
    import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";
    import { getFirestore, doc, getDoc, updateDoc } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "TU_API_KEY",
      authDomain: "TU_DOMINIO.firebaseapp.com",
      projectId: "TU_PROJECT_ID",
      storageBucket: "TU_BUCKET.appspot.com",
      messagingSenderId: "XXXXXXX",
      appId: "APP_ID"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);

    let currentUser;

    onAuthStateChanged(auth, user => {
      if (user) currentUser = user;
      else alert("Inicia sesi√≥n primero.");
    });

    async function generarVPS() {
      const loc = document.getElementById("location").value;
      const username = document.getElementById("username").value.trim();
      const password = document.getElementById("password").value.trim();
      const days = Math.min(parseInt(document.getElementById("days").value), 30);
      const limit = Math.min(parseInt(document.getElementById("limit").value), 500);

      if (!username || !password || isNaN(days) || isNaN(limit)) {
        alert("Completa todos los campos correctamente.");
        return;
      }

      const creditosNecesarios = loc === "us" ? 3 : loc === "pe" ? 9 : 6;

      const userRef = doc(db, "users", currentUser.uid);
      const userSnap = await getDoc(userRef);
      const creditosActuales = userSnap.data().creditos;

      if (creditosActuales < creditosNecesarios) {
        alert("No tienes suficientes cr√©ditos.");
        return;
      }

      await updateDoc(userRef, {
        creditos: creditosActuales - creditosNecesarios
      });

      let modalText = "";
      const today = new Date();
      const expiracion = new Date(today.getTime() + days * 24 * 60 * 60 * 1000);
      const fechaExp = expiracion.toLocaleDateString("es-PE");

      if (loc === "us") {
        modalText = `
Felicidades tu vps fue creado con √©xito.

Datos de la vps
---------------------------------------------------------------------------------
IP de Servidor: 137.184.106.106
Usuario: ${username}
Contrase√±a: ${password}
D√≠as de Duraci√≥n: ${days}
Fecha de Expiraci√≥n: ${fechaExp}
L√≠mite de Conexi√≥n: ${limit}
---------------------------------------------------------------------------------
SSH: 22
DROPBEAR: 80 90
SSL: 443
SQUID: 3128
Bad VPN: 7300
Python: 100
---------------------------------------------------------------------------------
PAYLOAD WEBSOCKET: GET / HTTP/1.1[crlf]Host: 137.184.106.106[crlf]Upgrade: websocket[crlf][crlf]
        `;
      } else if (loc === "pe") {
        modalText = `
üîêVPS LIBRE REGALOüéâüéÅ

üëΩIP del Servidor: 
kevin.golbert-vps.fun
üë•Usuario:¬†¬† regalo
üóùÔ∏èContrase√±a:¬†¬† regalo
üè∑Ô∏èDias de Duracion: 30 d√≠as 

-------------------- payload--------------------
GET / HTTP/1.1[crlf]Host: kevin.golbert-vps.site[crlf]Connection: Keep-Alive[crlf]User-Agent: [ua][crlf]Upgrade: websocket[crlf][crlf]

üóìÔ∏èFecha de Expiracion: 30 d√≠as 
üîíLimite de Conexion: 100
üåê COMPATIBLE
üéÆ Juegos online
üçø Netflix
üéûÔ∏è Frecuencia de llamadas
(WhatsApp, meet, zoom, etc)
üïπÔ∏è Full redes sociales
üè∑Ô∏è Descargas
‚úçÔ∏è Mucho m√°s...
üíØCr√©ditos : @servidoresvidaltecnet5 
        `;
      } else {
        modalText = `
‚óà‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚™ß IMPORTANT ‚™¶‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚óà
‚óà‚™ß üö´„Ö§ NO SPAM
‚óà‚™ß ‚ö†Ô∏è„Ö§ NO DDOS
‚óà‚™ß üé≠„Ö§ NO Hacking
‚óà‚™ß ‚õî Ô∏è„Ö§ NO Carding
‚óà‚™ß üôÖ‚Äç‚ôÇÔ∏è„Ö§ NO Torrent
====================================
   üêâ„Ö§ DRAGON VPS MANAGER„Ö§ üêâ
====================================
‚óà‚™ß Host / IP   :‚™ß  176.100.39.110
‚óà‚™ß Username    :‚™ß  ${username}
‚óà‚™ß Password    :‚™ß  ${password}
‚óà‚™ß Login Limit :‚™ß  ${limit}
‚óà‚™ß Expire Date :‚™ß  ${fechaExp}
‚óà‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚™ß PORTS ‚™¶ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚óà
‚óà SSH      ‚åÅ  22
‚óà SSL      ‚åÅ  443
‚óà Squid    ‚åÅ  8080
‚óà DropBear ‚åÅ  80
‚óà BadVPN   ‚åÅ  7300
‚óà‚îÄ‚îÄ‚îÄ‚™ßONLINE USER COUNT‚™¶‚îÄ‚îÄ‚îÄ‚îÄ‚óà
http://176.100.39.110:8888/server/online

dns.blackoftcloud.site

e9a5667783ecd4d69156672394468fce23b7cf33138b06d08a7807ae14d7841a
‚óà‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚óà
¬©Ô∏è üêâ  DRAGON VPS
        `;
      }

      const modal = document.getElementById("modal");
      document.getElementById("modalContent").innerText = modalText;
      modal.style.display = "flex";

      modal.onclick = () => modal.style.display = "none";
    }
  </script>
</body>
</html>
